# 无法访问页面 - 问题解决方案

## 问题现象
浏览器显示"127.0.0.1 拒绝连接"或"ERR_CONNECTION_REFUSED"，说明程序没有成功启动。

## 解决步骤

### 方法一：使用批处理文件启动（推荐）

1. **双击运行 `启动程序.bat`**
   - 这个文件会自动检查环境并启动程序
   - 如果遇到问题，会显示具体错误信息

2. **或者双击运行 `检查问题.bat`**
   - 这会诊断所有可能的问题
   - 查看输出，根据提示修复问题

### 方法二：手动启动

1. **打开命令提示符（CMD）或 PowerShell**

2. **切换到项目目录**
   ```cmd
   cd "C:\Users\PC\Desktop\简历上传"
   ```

3. **检查Python是否安装**
   ```cmd
   python --version
   ```
   如果显示版本号，说明Python已安装；如果没有，请先安装Python。

4. **检查依赖是否安装**
   ```cmd
   pip list | findstr flask
   ```
   如果没有显示Flask，需要安装依赖：
   ```cmd
   pip install -r requirements.txt
   ```

5. **检查端口是否被占用**
   ```cmd
   netstat -ano | findstr :5000
   ```
   如果看到输出，说明端口被占用。可以：
   - 关闭占用端口的程序
   - 或者修改 `app.py` 中的端口号（第2774行）

6. **启动程序**
   ```cmd
   python app.py
   ```
   或者：
   ```cmd
   python start.py
   ```

7. **查看输出信息**
   - 如果看到类似以下信息，说明启动成功：
     ```
     * Running on http://127.0.0.1:5000
     * Running on http://0.0.0.0:5000
     ```
   - 如果有错误信息，请查看具体错误并解决

8. **在浏览器中访问**
   - 打开浏览器
   - 访问：http://localhost:5000 或 http://127.0.0.1:5000

### 常见问题及解决方案

#### 问题1：端口5000已被占用

**解决方案：**

1. 查找占用端口的进程：
   ```cmd
   netstat -ano | findstr :5000
   ```

2. 结束进程（将PID替换为实际进程ID）：
   ```cmd
   taskkill /PID <进程ID> /F
   ```

3. 或者修改端口号：
   - 打开 `app.py`
   - 找到第2774行：`port = 5000`
   - 改为其他端口，例如：`port = 5001`
   - 然后访问 http://localhost:5001

#### 问题2：缺少依赖包

**解决方案：**

```cmd
pip install -r requirements.txt
```

如果安装失败，可以逐个安装：
```cmd
pip install flask
pip install sqlalchemy
pip install PyPDF2
pip install python-docx
pip install openpyxl
pip install reportlab
```

#### 问题3：导入错误

**解决方案：**

1. 确保所有文件都在正确位置：
   - `app.py`
   - `models.py`
   - `config.py`
   - `utils/` 目录下的所有文件

2. 检查是否有语法错误：
   ```cmd
   python -m py_compile app.py
   ```

#### 问题4：数据库错误

**解决方案：**

程序会在首次运行时自动创建数据库。如果遇到数据库错误：

1. 删除旧的数据库文件（如果存在）：
   - 删除 `database.db` 文件
   
2. 重新启动程序，数据库会自动创建

#### 问题5：OCR初始化错误

**解决方案：**

OCR功能是可选的。如果OCR初始化失败：

1. 可以在 `config.py` 中禁用OCR：
   ```python
   OCR_ENABLED = False
   ```

2. 或者安装OCR依赖（可选）：
   ```cmd
   pip install easyocr
   ```

### 验证程序是否正常运行

1. **检查进程**
   - 打开任务管理器
   - 查看是否有 `python.exe` 进程在运行

2. **检查端口**
   ```cmd
   netstat -ano | findstr :5000
   ```
   应该能看到监听状态

3. **测试连接**
   ```cmd
   curl http://localhost:5000
   ```
   或者直接在浏览器访问

### 获取详细错误信息

如果程序启动失败，查看详细错误：

1. **查看控制台输出**
   - 所有错误信息都会显示在运行程序的窗口中

2. **查看日志文件**
   - 检查 `server.log` 文件（如果存在）

3. **使用测试脚本**
   ```cmd
   python test_start.py
   ```
   这会显示详细的诊断信息

### 快速修复命令

如果所有方法都不行，尝试完全重新设置：

```cmd
cd "C:\Users\PC\Desktop\简历上传"

# 1. 安装所有依赖
pip install -r requirements.txt

# 2. 清理可能的缓存
del __pycache__\*.pyc /s /q

# 3. 重新启动
python app.py
```

## 仍然无法解决？

如果以上方法都不行，请提供以下信息：

1. Python版本（运行 `python --version`）
2. 错误信息截图或完整文本
3. 运行 `python app.py` 的完整输出
4. 运行 `检查问题.bat` 的输出

---

**最后更新：** 2025-01-13




